{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% load crispy_forms_tags %}

{% block header %}

<!-- Header -->
<header class="trips-head">
	<div class="container d-flex align-items-center">
		<div class="mx-auto text-center">
			<h1 class="text-light mx-auto my-0">Book your trip now</h1>
		</div>
	</div>
</header>

{% endblock %}

{% block content %}

<nav class="navbar navbar-light shadow-sm mt-3">
	<div class="container">

		<form id="search-form" method="GET" class="col-12">
			<div class="form-row">

				<div class="col-4">
					<input class="form-control mr-sm-2" type="search" placeholder="Destination (Moon, Mars...)" aria-label="Destination">
                </div>

                <div class="col-3">
                    <select class="form-control" id="exampleFormControlSelect1">
                    <option>Departing from</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    </select>
                </div>

                <div class="col-3">
                    <div class="datepicker date input-group p-0 shadow-sm">
                        <input type="text" placeholder="Date" class="form-control py-4 px-4" id="reservationDate">
                        <div class="input-group-append"><span class="input-group-text px-4"><i class="far fa-calendar-alt"></i></span></div>
                    </div>
                </div>

                <div class="col-2 text-right">
                    <button type="submit" class="btn btn-primary btn-subscribe"><i class="fas fa-search"></i> Search</button>
                </div>

			</div>
		</form>

	</div>
</nav>

<!-- FAQs Section -->
<section class="projects-section pb-5 bg-light">
	<div class="container">

		{% for trip in trips %}

		{% if forloop.counter|divisibleby:2 %}

		<!-- Trip card - even -->
		<div class="row justify-content-center no-gutters mb-5">
			<div class="col-lg-8">
				<img class="img-fluid" src="{{ trip.img.all.0.img.url }}" alt="{{ trip.destination }}">
				<button type="button" class="d-none d-md-block btn btn-book btn-light">Book</button>
			</div>
			<div class="col-lg-4 order-lg-first">
				<div class="bg-black text-center h-100 project">
					<div class="d-flex h-100">
						<div class="project-text w-100 my-auto text-center text-lg-right">
							<h4 class="text-white">{{ trip.destination }}</h4>
							<hr class="d-none d-lg-block mb-0 mr-0">
							<p class="mt-3 mb-3 mb-md-0 text-white-50">
								{{ trip.duration }} Day</br>
								{{ trip.distance|intcomma }} Km</br>
								€ {{ trip.price|intcomma }}</br>
								<i class="fas fa-calendar-day"></i>
								{{ trip.departure.all.0.departure_date }}
							</p>
							<button type="button" class="mx-auto d-block d-md-none btn btn-light">Book</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		{% else %}
		<!-- Trip card - odd -->
		<div class="row justify-content-center no-gutters mb-5">
			<div class="col-lg-8">
				<img class="img-fluid" src="{{ trip.img.all.0.img.url }}" alt="{{ trip.destination }}">
				<button type="button" class="d-none d-md-block btn btn-book-odd btn-light">Book</button>
			</div>
			<div class="col-lg-4">
				<div class="bg-black text-center h-100 project">
					<div class="d-flex h-100">
						<div class="project-text w-100 my-auto text-lg-left">
							<h4 class="text-white">{{ trip.destination }}</h4>
							<hr class="d-none d-lg-block mb-0 ml-0">
							<p class="mt-3 mb-3 mb-md-0 text-white-50">
								{{ trip.duration }} Day</br>
								{{ trip.distance|intcomma }} Km</br>
								€ {{ trip.price|intcomma }}</br>
								<i class="fas fa-calendar-day"></i>
								{{ trip.departure.all.0.departure_date }}
							</p>
							<button type="button" class="mx-auto d-block d-md-none btn btn-light">Book</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		{% endif %}

		{% endfor %}

	</div>
	</div>
</section>

{% endblock %}